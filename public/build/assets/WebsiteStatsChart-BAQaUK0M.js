import{j as e}from"./app-Cz7Ofm5u.js";import{Q as n,a1 as w,Y as p,Z as j,_ as f,W as c,a2 as N,T,U as K,V as C,X as k,$ as D,a0 as y}from"./PieChart-CneJuAKV.js";const L=s=>{try{return new Date(s).toLocaleTimeString("en-PK",{timeZone:"Asia/Karachi",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(t){return console.error("Error formatting datetime to Karachi time:",t),s}},S=s=>{try{return new Date(s).toLocaleString("en-PK",{timeZone:"Asia/Karachi",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch(t){return console.error("Error formatting full datetime to Karachi time:",t),s}},x=s=>{try{return new Date(s).toLocaleString("en-US",{timeZone:"Asia/Karachi",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch(t){return console.error("Error formatting readable datetime to Karachi time:",t),s}},A=({data:s,uptimePercentage:t,hideCards:g=!1})=>{const l=s?.map((r,a)=>({...r,time:L(r.hour),fullTime:S(r.hour),readableTime:x(r.hour),originalTime:r.hour,downtime_percentage:100-r.uptime_percentage,index:a+1}))||[],h=[{name:"Uptime",value:t,color:"#10B981"},{name:"Downtime",value:100-t,color:"#EF4444"}],u=({active:r,payload:a,label:b})=>{if(!r||!a?.length)return null;const i=a[0].payload;return e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg p-3 shadow-lg",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Time: ",i.readableTime," PKT"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.fullTime}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[e.jsxs("p",{className:"text-green-600 dark:text-green-400",children:["Uptime: ",a[0].value.toFixed(1),"%"]}),a[0].value<100&&e.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Downtime: ",(100-a[0].value).toFixed(1),"%"]})]})]})})},v=({active:r,payload:a})=>!r||!a?.length?null:e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg p-3 shadow-lg",children:e.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[a[0].name,": ",a[0].value.toFixed(1),"%"]})}),d=({color:r,value:a,label:b,icon:i})=>e.jsx("div",{className:`rounded-lg border p-6 bg-gradient-to-r ${r.bg} ${r.border} transition-all duration-200 hover:shadow-md`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white bg-opacity-20 backdrop-blur",children:i}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:`text-2xl font-bold ${r.text}`,children:a}),e.jsx("div",{className:`text-sm font-medium ${r.subtext}`,children:b})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full mr-2 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"All times are shown in Pakistan Time (Asia/Karachi - PKT)"})]})}),!g&&e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsx(d,{value:`${t.toFixed(1)}%`,label:"Overall Uptime",color:{bg:"from-green-50 to-green-100 dark:from-green-900 dark:to-green-800",border:"border-green-200 dark:border-green-700",text:"text-green-900 dark:text-green-100",subtext:"text-green-700 dark:text-green-300"},icon:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx(d,{value:s?.length||0,label:"Data Points",color:{bg:"from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800",border:"border-blue-200 dark:border-blue-700",text:"text-blue-900 dark:text-blue-100",subtext:"text-blue-700 dark:text-blue-300"},icon:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx(d,{value:l.filter(r=>r.uptime_percentage===100).length,label:"Perfect Hours",color:{bg:"from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800",border:"border-purple-200 dark:border-purple-700",text:"text-purple-900 dark:text-purple-100",subtext:"text-purple-700 dark:text-purple-300"},icon:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx(o,{title:"Uptime Trend (PKT)",children:e.jsx(n,{width:"100%",height:300,children:e.jsxs(w,{data:l,children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(j,{dataKey:"time",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),e.jsx(f,{domain:[95,100],tick:{fontSize:12},label:{value:"Uptime %",angle:-90,position:"insideLeft"}}),e.jsx(c,{content:e.jsx(u,{})}),e.jsx(N,{type:"monotone",dataKey:"uptime_percentage",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",r:4},activeDot:{r:6,stroke:"#059669",strokeWidth:2}})]})})}),e.jsx(o,{title:"Uptime Distribution",children:e.jsx(n,{width:"100%",height:300,children:e.jsxs(T,{children:[e.jsx(K,{data:h,label:({name:r,value:a})=>`${r}: ${a.toFixed(1)}%`,outerRadius:90,innerRadius:40,dataKey:"value",labelLine:!1,children:h.map((r,a)=>e.jsx(C,{fill:r.color},a))}),e.jsx(c,{content:e.jsx(v,{})}),e.jsx(k,{verticalAlign:"bottom",iconType:"circle",wrapperStyle:{paddingTop:"20px"}})]})})})]}),e.jsx(o,{title:"Hourly Performance (PKT)",children:e.jsx(n,{width:"100%",height:350,children:e.jsxs(D,{data:l,margin:{bottom:60},children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(j,{dataKey:"time",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),e.jsx(f,{domain:[0,100],tick:{fontSize:12},label:{value:"Percentage %",angle:-90,position:"insideLeft"}}),e.jsx(c,{content:e.jsx(u,{})}),e.jsx(k,{}),e.jsx(y,{dataKey:"uptime_percentage",fill:"#10B981",name:"Uptime %",radius:[2,2,0,0]}),e.jsx(y,{dataKey:"downtime_percentage",fill:"#EF4444",name:"Downtime %",radius:[2,2,0,0]})]})})}),e.jsx(o,{title:"Status Summary",children:e.jsxs("div",{className:"space-y-3",children:[t>=99.9?e.jsx(m,{color:"green",text:"ðŸŽ‰ Excellent uptime performance! Your website is highly reliable."}):t>=95?e.jsx(m,{color:"yellow",text:"âš ï¸ Good uptime, but there's room for improvement to reach optimal reliability."}):e.jsx(m,{color:"red",text:"ðŸš¨ Uptime needs immediate attention. Consider investigating recent issues."}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium",children:"Data Period:"})," ",l.length>0&&e.jsxs(e.Fragment,{children:[x(l[l.length-1].originalTime)," - ",x(l[0].originalTime)," PKT"]})]})})]})})]})},o=({title:s,children:t})=>e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-6 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100",children:s}),t]}),m=({color:s,text:t})=>{const l={green:{bg:"bg-green-50 dark:bg-green-900",border:"border-green-200 dark:border-green-700",dot:"bg-green-500",text:"text-green-800 dark:text-green-200"},yellow:{bg:"bg-yellow-50 dark:bg-yellow-900",border:"border-yellow-200 dark:border-yellow-700",dot:"bg-yellow-500",text:"text-yellow-800 dark:text-yellow-200"},red:{bg:"bg-red-50 dark:bg-red-900",border:"border-red-200 dark:border-red-700",dot:"bg-red-500",text:"text-red-800 dark:text-red-200"}}[s];return e.jsxs("div",{className:`flex items-center rounded-lg border p-4 ${l.bg} ${l.border} transition-all duration-200`,children:[e.jsx("span",{className:`mr-3 h-3 w-3 rounded-full ${l.dot} animate-pulse`}),e.jsx("span",{className:`font-medium ${l.text}`,children:t})]})};export{A as W};
