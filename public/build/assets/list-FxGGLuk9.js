import{u as y,r as l,j as e,H as N,b as D}from"./app-DOBG_hAy.js";import{C as S,a as w,b as E,c as A,T as H,d as Q,e as c,f as i,g as B,h as a,B as u,E as L}from"./table-DNsJaz_N.js";import{B as d}from"./button-Bc52w9aT.js";import{D as z,a as R,b as k,c as M,d as _}from"./dialog-BDJNqdnM.js";import{A as F,T as m,a as p,b as f,c as C}from"./app-layout-CQAJjztj.js";import{T as I}from"./trash-2-BCykTEr0.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./index-DnUk5i3x.js";import"./index-MF4xqaYI.js";import"./index-Bg4pMijP.js";import"./index-DL-HXF6v.js";import"./app-logo-icon-Na1mXmq7.js";function ee(){const{props:g}=y(),o=g.contacts,[r,x]=l.useState(null),[t,h]=l.useState(null),[b,n]=l.useState(!1),v=s=>{x(s)},j=()=>{x(null),h(null)},T=s=>{confirm("Are you sure you want to delete this contact?")&&D.delete(`/admin/contacts/${s}`)};return l.useEffect(()=>{r!==null&&(n(!0),fetch(`/admin/contacts/${r}`).then(s=>s.json()).then(s=>{h(s),n(!1)}).catch(()=>{n(!1),alert("Failed to load contact details.")}))},[r]),e.jsxs(F,{breadcrumbs:[{title:"Dashboard",href:"/admin/contacts"}],children:[e.jsx(N,{title:"Contact Queries"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-bold",children:"Contact Queries"})}),e.jsxs(S,{children:[e.jsx(w,{children:e.jsx(E,{children:"Contact Queries List"})}),e.jsx(A,{children:e.jsxs(H,{children:[e.jsx(Q,{children:e.jsxs(c,{children:[e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Email"}),e.jsx(i,{children:"Subject"}),e.jsx(i,{children:"Status"}),e.jsx(i,{className:"w-[160px] text-center",children:"Received At"}),e.jsx(i,{className:"w-[120px] text-center",children:"Actions"})]})}),e.jsx(B,{children:o.length>0?o.map(s=>e.jsxs(c,{children:[e.jsx(a,{children:s.name}),e.jsx(a,{children:s.email}),e.jsx(a,{children:s.subject}),e.jsx(a,{children:e.jsx(u,{variant:s.status==="replied"?"default":s.status==="read"?"secondary":"destructive",children:s.status})}),e.jsx(a,{className:"text-center",children:s.created_at}),e.jsx(a,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(m,{children:e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",onClick:()=>v(s.id),children:e.jsx(L,{size:16})})}),e.jsx(C,{children:"View Query"})]})}),e.jsx(m,{children:e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsx(d,{variant:"destructive",size:"sm",onClick:()=>T(s.id),children:e.jsx(I,{size:16})})}),e.jsx(C,{children:"Delete Query"})]})})]})})]},s.id)):e.jsx(c,{children:e.jsx(a,{colSpan:6,className:"py-6 text-center text-gray-500",children:"No contact queries found."})})})]})})]})]}),e.jsx(z,{open:r!==null,onOpenChange:j,children:e.jsxs(R,{children:[e.jsx(k,{children:e.jsx(M,{children:"Contact Query Details"})}),b?e.jsx("p",{children:"Loading..."}):t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Subject:"})," ",t.subject]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Message:"}),e.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:t.message})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx(u,{variant:t.status==="replied"?"default":t.status==="read"?"secondary":"destructive",children:t.status})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Received At:"})," ",t.created_at]})]}):e.jsx("p",{children:"No details available."}),e.jsx(_,{children:e.jsx(d,{variant:"outline",onClick:j,children:"Close"})})]})})]})}export{ee as default};
