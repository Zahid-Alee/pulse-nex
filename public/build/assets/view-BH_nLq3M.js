import{j as e,u as d,H as o}from"./app-DOBG_hAy.js";import{W as l}from"./WebsiteStatsChart-C4UkW4sr.js";import{A as x}from"./app-layout-CQAJjztj.js";/* empty css            */import"./PieChart-Cm-s3lSi.js";import"./index-DnUk5i3x.js";import"./clsx-B-dksMZM.js";import"./index-DL-HXF6v.js";import"./index-MF4xqaYI.js";import"./button-Bc52w9aT.js";import"./index-Bg4pMijP.js";import"./app-logo-icon-Na1mXmq7.js";const c=r=>{try{return new Date(r).toLocaleString("en-PK",{timeZone:"Asia/Karachi",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch(a){return console.error("Error formatting datetime:",a),r}},n=r=>{try{return new Date(r).toLocaleString("en-US",{timeZone:"Asia/Karachi",month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch(a){return console.error("Error formatting datetime:",a),r}};function m({history:r}){const a=t=>t.status?t.status.toLowerCase():t.is_up?"up":"down",s=t=>{switch(a(t)){case"up":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-200";case"down":return"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-200";case"timeout":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200";case"error":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}};return e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow dark:bg-gray-900",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Recent Checks"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Times shown in Pakistan Time (PKT)"})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Checked At"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Response Time"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700",children:r.map((t,i)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:n(t.checked_at)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(t.checked_at)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${s(t)}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-1.5 ${a(t)==="up"?"bg-green-400":"bg-red-400"}`}),a(t)]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:t.response_time?e.jsxs("span",{className:`font-mono ${t.response_time<500?"text-green-600 dark:text-green-400":t.response_time<1e3?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[t.response_time,"ms"]}):e.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"N/A"})})]},t.id||i))})]}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-12 w-12",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No check history"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Check history will appear here once monitoring begins."})]})]}),r.length>0&&e.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Total checks: ",r.length]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Uptime: ",Math.round(r.filter(t=>a(t)==="up").length/r.length*100),"%"]})]}),e.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Last updated: ",r.length>0?n(r[0].checked_at):"Never"]})]})]})}function _(){const{props:r}=d(),{website:a,stats:s,history:t}=r;return console.log("history",t),e.jsxs(x,{breadcrumbs:[{title:"Dashboard",href:"/websites"},{title:a.name,href:`/websites/${a.id}`}],children:[e.jsx(o,{title:a.name}),e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsx(l,{data:s.hourly_data,uptimePercentage:s.uptime_percentage}),e.jsx(m,{history:t.data})]})]})}export{_ as default};
