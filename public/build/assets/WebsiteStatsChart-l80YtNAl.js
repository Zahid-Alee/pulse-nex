import{j as e}from"./app-D0BJqCX6.js";import{Q as o,a1 as N,Y as h,Z as u,_ as j,W as x,a2 as $,T as w,U as y,V as D,X as g,$ as C,a0 as b}from"./PieChart-DR4wGji-.js";const S=({data:s,uptimePercentage:a,hideCards:f=!1})=>{const i=s?.map((t,r)=>({...t,time:new Date(t.hour).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),fullTime:t.hour,downtime_percentage:100-t.uptime_percentage,index:r+1}))||[],m=[{name:"Uptime",value:a,color:"#10B981"},{name:"Downtime",value:100-a,color:"#EF4444"}],p=({active:t,payload:r,label:d})=>t&&r?.length?e.jsxs("div",{className:"tooltip",children:[e.jsx("p",{children:`Time: ${d}`}),e.jsx("p",{className:"text-green-600",children:`Uptime: ${r[0].value}%`}),r[0].value<100&&e.jsx("p",{className:"text-red-600",children:`Downtime: ${100-r[0].value}%`})]}):null,v=({active:t,payload:r})=>t&&r?.length?e.jsx("div",{className:"tooltip",children:e.jsx("p",{children:`${r[0].name}: ${r[0].value}%`})}):null,n=({color:t,value:r,label:d,icon:k})=>e.jsx("div",{className:`rounded-lg border p-6 bg-gradient-to-r ${t.bg} ${t.border}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-opacity-80",children:k}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:`text-2xl font-bold ${t.text}`,children:r}),e.jsx("div",{className:`text-sm font-medium ${t.subtext}`,children:d})]})]})});return e.jsxs("div",{className:"space-y-6",children:[!f&&e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsx(n,{value:`${a}%`,label:"Overall Uptime",color:{bg:"from-green-50 to-green-100 dark:from-green-900 dark:to-green-800",border:"border-green-200 dark:border-green-700",text:"text-green-900 dark:text-green-100",subtext:"text-green-700 dark:text-green-300"},icon:e.jsx("span",{className:"text-white",children:"✔"})}),e.jsx(n,{value:s?.length||0,label:"Data Points",color:{bg:"from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800",border:"border-blue-200 dark:border-blue-700",text:"text-blue-900 dark:text-blue-100",subtext:"text-blue-700 dark:text-blue-300"},icon:e.jsx("span",{className:"text-white",children:"⏱"})}),e.jsx(n,{value:i.filter(t=>t.uptime_percentage===100).length,label:"Perfect Hours",color:{bg:"from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800",border:"border-purple-200 dark:border-purple-700",text:"text-purple-900 dark:text-purple-100",subtext:"text-purple-700 dark:text-purple-300"},icon:e.jsx("span",{className:"text-white",children:"★"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx(l,{title:"Uptime Trend",children:e.jsx(o,{width:"100%",height:300,children:e.jsxs(N,{data:i,children:[e.jsx(h,{strokeDasharray:"3 3"}),e.jsx(u,{dataKey:"time"}),e.jsx(j,{domain:[95,100]}),e.jsx(x,{content:e.jsx(p,{})}),e.jsx($,{type:"monotone",dataKey:"uptime_percentage",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",r:4},activeDot:{r:6}})]})})}),e.jsx(l,{title:"Uptime Distribution",children:e.jsx(o,{width:"100%",height:300,children:e.jsxs(w,{children:[e.jsx(y,{data:m,label:({name:t,value:r})=>`${t}: ${r}%`,outerRadius:80,dataKey:"value",children:m.map((t,r)=>e.jsx(D,{fill:t.color},r))}),e.jsx(x,{content:e.jsx(v,{})}),e.jsx(g,{verticalAlign:"bottom",iconType:"circle"})]})})})]}),e.jsx(l,{title:"Hourly Performance",children:e.jsx(o,{width:"100%",height:300,children:e.jsxs(C,{data:i,children:[e.jsx(h,{strokeDasharray:"3 3"}),e.jsx(u,{dataKey:"time"}),e.jsx(j,{domain:[0,100]}),e.jsx(x,{content:e.jsx(p,{})}),e.jsx(g,{}),e.jsx(b,{dataKey:"uptime_percentage",fill:"#10B981",name:"Uptime %"}),e.jsx(b,{dataKey:"downtime_percentage",fill:"#EF4444",name:"Downtime %"})]})})}),e.jsx(l,{title:"Status Summary",children:a>=99.9?e.jsx(c,{color:"green",text:"Excellent uptime performance!"}):a>=95?e.jsx(c,{color:"yellow",text:"Good uptime, room for improvement"}):e.jsx(c,{color:"red",text:"Uptime needs attention"})})]})},l=({title:s,children:a})=>e.jsxs("div",{className:"rounded-lg border p-6 shadow-sm dark:border-gray-700 dark:bg-gray-900",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:s}),a]}),c=({color:s,text:a})=>e.jsxs("div",{className:`flex items-center rounded-lg border p-3 bg-${s}-50 dark:bg-${s}-900`,children:[e.jsx("span",{className:`mr-3 h-2 w-2 rounded-full bg-${s}-500`}),e.jsx("span",{className:`font-medium text-${s}-800 dark:text-${s}-200`,children:a})]});export{S as W};
