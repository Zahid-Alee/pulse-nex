import{u as g,r,j as e,H as C}from"./app-Bwl0ZrL3.js";import{C as b,a as v,b as T,c as N,B as j,E as y}from"./card-rCR_acHD.js";import{B as u}from"./button-DIMXX8-2.js";import{D,a as S,b as w,c as E,d as H}from"./dialog-DBxdxrQq.js";import{T as A,a as B,b as c,c as l,d as L,e as a}from"./table-4XtXcvhy.js";import{A as Q,T as R,a as M,b as _,c as k}from"./app-layout-A_dEYSd0.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./index-CmIFe-Gu.js";import"./index-sub3T5Qg.js";import"./index-Bs2PDjfz.js";import"./index-tVHtYiht.js";import"./app-logo-icon-CljD-rrI.js";function X(){const{props:p}=g(),d=p.contacts,[i,o]=r.useState(null),[t,x]=r.useState(null),[m,n]=r.useState(!1),f=s=>{o(s)},h=()=>{o(null),x(null)};return r.useEffect(()=>{i!==null&&(n(!0),fetch(`/admin/contacts/${i}`).then(s=>s.json()).then(s=>{x(s),n(!1)}).catch(()=>{n(!1),alert("Failed to load contact details.")}))},[i]),e.jsxs(Q,{breadcrumbs:[{title:"Dashboard",href:"/admin/contacts"}],children:[e.jsx(C,{title:"Contact Queries"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-bold",children:"Contact Queries"})}),e.jsxs(b,{children:[e.jsx(v,{children:e.jsx(T,{children:"Contact Queries List"})}),e.jsx(N,{children:e.jsxs(A,{children:[e.jsx(B,{children:e.jsxs(c,{children:[e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Email"}),e.jsx(l,{children:"Subject"}),e.jsx(l,{children:"Status"}),e.jsx(l,{className:"w-[160px] text-center",children:"Received At"}),e.jsx(l,{className:"w-[120px] text-center",children:"Actions"})]})}),e.jsx(L,{children:d.length>0?d.map(s=>e.jsxs(c,{children:[e.jsx(a,{children:s.name}),e.jsx(a,{children:s.email}),e.jsx(a,{children:s.subject}),e.jsx(a,{children:e.jsx(j,{variant:s.status==="replied"?"default":s.status==="read"?"secondary":"destructive",children:s.status})}),e.jsx(a,{className:"text-center",children:s.created_at}),e.jsx(a,{children:e.jsx("div",{className:"flex justify-center gap-2",children:e.jsx(R,{children:e.jsxs(M,{children:[e.jsx(_,{asChild:!0,children:e.jsx(u,{variant:"outline",size:"sm",onClick:()=>f(s.id),children:e.jsx(y,{size:16})})}),e.jsx(k,{children:"View Query"})]})})})})]},s.id)):e.jsx(c,{children:e.jsx(a,{colSpan:6,className:"py-6 text-center text-gray-500",children:"No contact queries found."})})})]})})]})]}),e.jsx(D,{open:i!==null,onOpenChange:h,children:e.jsxs(S,{children:[e.jsx(w,{children:e.jsx(E,{children:"Contact Query Details"})}),m?e.jsx("p",{children:"Loading..."}):t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Subject:"})," ",t.subject]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Message:"}),e.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:t.message})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx(j,{variant:t.status==="replied"?"default":t.status==="read"?"secondary":"destructive",children:t.status})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Received At:"})," ",t.created_at]})]}):e.jsx("p",{children:"No details available."}),e.jsx(H,{children:e.jsx(u,{variant:"outline",onClick:h,children:"Close"})})]})})]})}export{X as default};
